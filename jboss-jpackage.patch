diff -Nur jboss-3.2.0-src.orig/jetty/src/resources/jetty-plugin/META-INF/jboss-service.xml jboss-3.2.0-src.chng/jetty/src/resources/jetty-plugin/META-INF/jboss-service.xml
--- jboss-3.2.0-src.orig/jetty/src/resources/jetty-plugin/META-INF/jboss-service.xml	Wed Apr  2 11:25:08 2003
+++ jboss-3.2.0-src.chng/jetty/src/resources/jetty-plugin/META-INF/jboss-service.xml	Mon Apr 14 10:00:37 2003
@@ -58,7 +58,7 @@
     <!-- Configuring Jetty. The XML fragment contained in the              -->
     <!-- name="ConfigurationElement" attribute is a Jetty-style            -->
     <!-- configuration specification.  It is used to configure Jetty with  -->
-    <!-- a listener on port 8080, and a HTTP request log location.         -->
+    <!-- a listener on port 8880, and a HTTP request log location.         -->
     <!-- The placement here of other Jetty XML configuration statements    -->
     <!-- for deploying webapps etc is not encouraged: if you REALLY NEED   -->
     <!-- something extra, place it in WEB-INF/jetty-web.xml files          -->
@@ -73,13 +73,13 @@
 
 
        <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
-       <!-- Add and configure a HTTP listener to port 8080                       -->
+       <!-- Add and configure a HTTP listener to port 8880                       -->
        <!-- The default port can be changed using: java -Djetty.port=80     -->
        <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
        <Call name="addListener">
          <Arg>
           <New class="org.mortbay.http.SocketListener">
-            <Set name="Port"><SystemProperty name="jetty.port" default="8080"/></Set>
+            <Set name="Port"><SystemProperty name="jetty.port" default="8880"/></Set>
             <Set name="MinThreads">10</Set>
             <Set name="MaxThreads">100</Set>
             <Set name="MaxIdleTimeMs">30000</Set>
@@ -96,7 +96,7 @@
        <Call name="addListener">
          <Arg>
            <New class="org.mortbay.http.SunJsseListener">
-            <Set name="Port">8443</Set>
+            <Set name="Port"><SystemProperty name="jetty.port.ssl" default="8843"/></Set>
             <Set name="MinThreads">5</Set>
             <Set name="MaxThreads">100</Set>
             <Set name="MaxIdleTimeMs">30000</Set>
@@ -111,13 +111,14 @@
 
 
        <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
-       <!-- Add a AJP13 listener on port 8009                               -->
+       <!-- Add a AJP13 listener on port 8809                               -->
        <!-- This protocol can be used with mod_jk in apache, IIS etc.       -->
+       <!-- The default port can be changed using java -Djetty.port.ajp=8809-->       
        <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
        <Call name="addListener">
          <Arg>
            <New class="org.mortbay.http.ajp.AJP13Listener">
-            <Set name="Port">8009</Set>
+	    <Set name="Port"><SystemProperty name="jetty.port.ajp" default="8809"/></Set>
             <Set name="MinThreads">5</Set>
             <Set name="MaxThreads">20</Set>
             <Set name="MaxIdleTimeMs">0</Set>
diff -Nur jboss-3.2.0-src.orig/server/src/bin/shutdown.sh jboss-3.2.0-src.chng/server/src/bin/shutdown.sh
--- jboss-3.2.0-src.orig/server/src/bin/shutdown.sh	Thu Jun 13 20:17:24 2002
+++ jboss-3.2.0-src.chng/server/src/bin/shutdown.sh	Mon Apr 14 10:11:42 2003
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/bin/bash
 ### ====================================================================== ###
 ##                                                                          ##
 ##  JBoss Shutdown Script                                                   ##
diff -Nur jboss-3.2.0-src.orig/system/src/bin/run.sh jboss-3.2.0-src.chng/system/src/bin/run.sh
--- jboss-3.2.0-src.orig/system/src/bin/run.sh	Tue Sep 24 18:47:01 2002
+++ jboss-3.2.0-src.chng/system/src/bin/run.sh	Mon Apr 14 10:08:48 2003
@@ -1,4 +1,4 @@
-#!/bin/sh
+#!/bin/bash
 ### ====================================================================== ###
 ##                                                                          ##
 ##  JBoss Bootstrap Script                                                  ##
@@ -114,9 +114,8 @@
 
 # Include the JDK javac compiler for JSP pages. The default is for a Sun JDK
 # compatible distribution which JAVA_HOME points to
-if [ "x$JAVAC_JAR" = "x" ]; then
-    JAVAC_JAR="$JAVA_HOME/lib/tools.jar"
-fi
+JAVAC_JAR="$JAVA_HOME/lib/tools.jar"
+
 if [ ! -f "$JAVAC_JAR" ]; then
    # MacOSX does not have a seperate tools.jar
    if [ "$darwin" != "true" ]; then
@@ -150,6 +149,18 @@
 
 # Setup JBoss sepecific properties
 JAVA_OPTS="$JAVA_OPTS -Dprogram.name=$PROGNAME"
+if [ -n "$JETTY_PORT" ]
+then
+    JAVA_OPTS="$JAVA_OPTS -Djetty.port=$JETTY_PORT"
+fi
+if [ -n "$JETTY_PORT_SSL" ]
+then
+    JAVA_OPTS="$JAVA_OPTS -Djetty.port.ssl=$JETTY_PORT_SSL"
+fi
+if [ -n "$JETTY_PORT_AJP" ]
+then
+    JAVA_OPTS="$JAVA_OPTS -Djetty.port.ajp=$JETTY_PORT_AJP"
+fi
 
 # For Cygwin, switch paths to Windows format before running java
 if $cygwin; then
@@ -159,6 +159,7 @@
 fi
 
 # Display our environment
+if [ "$1" != "--quiet" ]; then
 echo "================================================================================"
 echo ""
 echo "  JBoss Bootstrap Environment"
@@ -173,6 +174,7 @@
 echo ""
 echo "================================================================================"
 echo ""
+fi
 
 if $useprofiler; then
     # Hand over control to profiler
@@ -181,12 +183,19 @@
     STATUS=10
     while [ $STATUS -eq 10 ]
     do
-    # Execute the JVM
-       $JAVA $JAVA_OPTS \
-               -classpath "$JBOSS_CLASSPATH" \
-               org.jboss.Main "$@"        
-       STATUS=$?
-       # if it doesn't work, you may want to take a look at this:
-       #    http://developer.java.sun.com/developer/bugParade/bugs/4465334.html
+	# Execute the JVM
+	if [ "$1" != "--quiet" ]; then
+	    $JAVA $JAVA_OPTS \
+        	-classpath "$JBOSS_CLASSPATH" \
+        	org.jboss.Main "$@"        
+    	    STATUS=$?
+	else
+	    $JAVA $JAVA_OPTS \
+        	-classpath "$JBOSS_CLASSPATH" \
+        	org.jboss.Main "$@" > /dev/null 2>&1
+    	    STATUS=$?	
+	fi
+	# if it doesn't work, you may want to take a look at this:
+        #    http://developer.java.sun.com/developer/bugParade/bugs/4465334.html
     done
 fi
