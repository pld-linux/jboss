diff -Naru jboss-3.0.5-src.orig/jetty/src/resources/jetty-plugin/META-INF/jboss-service.xml jboss-3.0.5-src/jetty/src/resources/jetty-plugin/META-INF/jboss-service.xml
--- jboss-3.0.5-src.orig/jetty/src/resources/jetty-plugin/META-INF/jboss-service.xml	2003-01-03 03:38:12.000000000 +0200
+++ jboss-3.0.5-src/jetty/src/resources/jetty-plugin/META-INF/jboss-service.xml	2003-01-14 00:42:04.000000000 +0200
@@ -50,7 +50,7 @@
     <!-- Configuring Jetty. The XML fragment contained in the              -->
     <!-- name="ConfigurationElement" attribute is a Jetty-style            -->
     <!-- configuration specification.  It is used to configure Jetty with  -->
-    <!-- a listener on port 8080, and a HTTP request log location.         -->
+    <!-- a listener on port 8880, and a HTTP request log location.         -->
     <!-- The placement here of other Jetty XML configuration statements    -->
     <!-- for deploying webapps etc is not encouraged: if you REALLY NEED   -->
     <!-- something extra, place it in WEB-INF/jetty-web.xml files          -->
@@ -65,13 +65,13 @@
 
 
        <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
-       <!-- Add and configure a HTTP listener to port 8080                       -->
+       <!-- Add and configure a HTTP listener to port 8880                       -->
        <!-- The default port can be changed using: java -Djetty.port=80     -->
        <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
        <Call name="addListener">
          <Arg>
           <New class="org.mortbay.http.SocketListener">
-            <Set name="Port"><SystemProperty name="jetty.port" default="8080"/></Set>
+            <Set name="Port"><SystemProperty name="jetty.port" default="8880"/></Set>
             <Set name="MinThreads">5</Set>
             <Set name="MaxThreads">100</Set>
             <Set name="MaxIdleTimeMs">30000</Set>
@@ -83,12 +83,13 @@
 
        <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
        <!-- Add a HTTPS SSL listener on port 8843                           -->
+       <!-- The default port can be changed using java -Djetty.port.ssl=443 -->
        <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
        <!-- UNCOMMENT TO ACTIVATE
        <Call name="addListener">
          <Arg>
            <New class="org.mortbay.http.SunJsseListener">
-            <Set name="Port">8443</Set>
+            <Set name="Port"><SystemProperty name="jetty.port.ssl" default="8843"/></Set>
             <Set name="MinThreads">5</Set>
             <Set name="MaxThreads">100</Set>
             <Set name="MaxIdleTimeMs">30000</Set>
@@ -103,13 +104,14 @@
 
 
        <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
-       <!-- Add a AJP13 listener on port 8009                               -->
+       <!-- Add a AJP13 listener on port 8809                               -->
        <!-- This protocol can be used with mod_jk in apache, IIS etc.       -->
+       <!-- The default port can be changed using java -Djetty.port.ajp=8009-->
        <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
        <Call name="addListener">
          <Arg>
            <New class="org.mortbay.http.ajp.AJP13Listener">
-            <Set name="Port">8009</Set>
+            <Set name="Port"><SystemProperty name="jetty.port.ajp" default="8809"/></Set>
             <Set name="MinThreads">5</Set>
             <Set name="MaxThreads">255</Set>
             <Set name="MaxIdleTimeMs">30000</Set>
diff -Naru jboss-3.0.5-src.orig/system/src/bin/run.sh jboss-3.0.5-src/system/src/bin/run.sh
--- jboss-3.0.5-src.orig/system/src/bin/run.sh	2002-11-13 23:32:28.000000000 +0200
+++ jboss-3.0.5-src/system/src/bin/run.sh	2003-01-14 00:33:38.000000000 +0200
@@ -86,7 +86,7 @@
 if [ "x$JAVAC_JAR" = "x" ]; then
     JAVAC_JAR="$JAVA_HOME/lib/tools.jar"
 fi
-if [ ! -f "$JAVAC_JAR" ]; then
+if [ ! -f "$JAVAC_JAR" -a "$1" != "--quiet" ]; then
    # MacOSX does not have a seperate tools.jar
    if [ "$darwin" != "true" ]; then
       warn "Missing file: $JAVAC_JAR"
@@ -115,6 +115,18 @@
 
 # Setup JBoss sepecific properties
 JAVA_OPTS="$JAVA_OPTS -Dprogram.name=$PROGNAME"
+if [ -n "$JETTY_PORT" ]
+then
+    JAVA_OPTS="$JAVA_OPTS -Djetty.port=$JETTY_PORT"
+fi
+if [ -n "$JETTY_PORT_SSL" ]
+then
+    JAVA_OPTS="$JAVA_OPTS -Djetty.port.ssl=$JETTY_PORT_SSL"
+fi
+if [ -n "$JETTY_PORT_AJP" ]
+then
+    JAVA_OPTS="$JAVA_OPTS -Djetty.port.ajp=$JETTY_PORT_AJP"
+fi
 
 # For Cygwin, switch paths to Windows format before running java
 if $cygwin; then
@@ -123,28 +135,39 @@
     JBOSS_CLASSPATH=`cygpath --path --windows "$JBOSS_CLASSPATH"`
 fi
 
-# Display our environment
-echo "================================================================================"
-echo ""
-echo "  JBoss Bootstrap Environment"
-echo ""
-echo "  JBOSS_HOME: $JBOSS_HOME"
-echo ""
-echo "  JAVA: $JAVA"
-echo ""
-echo "  JAVA_OPTS: $JAVA_OPTS"
-echo ""
-echo "  CLASSPATH: $JBOSS_CLASSPATH"
-echo ""
-echo "================================================================================"
-echo ""
+if [ "$1" != "--quiet" ]
+then
+    # Display our environment
+    echo "================================================================================"
+    echo ""
+    echo "  JBoss Bootstrap Environment"
+    echo ""
+    echo "  JBOSS_HOME: $JBOSS_HOME"
+    echo ""
+    echo "  JAVA: $JAVA"
+    echo ""
+    echo "  JAVA_OPTS: $JAVA_OPTS"
+    echo ""
+    echo "  CLASSPATH: $JBOSS_CLASSPATH"
+    echo ""
+    echo "================================================================================"
+    echo ""
+fi
 
 if $useprofiler; then
     # Hand over control to profiler
     runProfiler
 else
     # Execute the JVM
-    exec "$JAVA" $JAVA_OPTS \
+    if [ "$1" != "--quiet" ]
+    then
+        exec "$JAVA" $JAVA_OPTS \
             -classpath "$JBOSS_CLASSPATH" \
             org.jboss.Main "$@"
+    else
+        shift
+        exec "$JAVA" $JAVA_OPTS \
+            -classpath "$JBOSS_CLASSPATH" \
+            org.jboss.Main "$@" > /dev/null 2>&1
+    fi
 fi
